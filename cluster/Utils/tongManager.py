import csv
from Data import tong_path
import threading

class TongManager():

    tong = None
    lock = None

    def __init__(self,n) -> None:
        self.lock = threading.Lock()

        with open(tong_path, encoding='utf-8-sig') as f:
            list_sha = list(csv.reader(f))[1:]

        self.tong = [list_sha[e:e+n] for e in range(0,len(list_sha),n)]


    def pop(self):
        with self.lock:
            sha_apks = self.tong.pop(0)
    
        return sha_apks
    
