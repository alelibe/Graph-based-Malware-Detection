import multiprocessing as mp
from Utils.Data import num_core,tong_path
import time
import csv
from itertools import islice

exist_file_list = []

def downloadAndAnalyze():
    with open('./tong.csv', encoding='utf-8-sig') as f:
        reader = csv.reader(f)
        for row in islice(reader, 1, None):

            print(row)
            name = row[1]
            url = 'https://androzoo.uni.lu/api/download?apikey=1ef38937bf841c4a90b49d0e756bd4980b56886822cd8f20d6cf18cd449d68c9&sha256='+name
            # path = './'+name+'.apk'
            name_temp = name+'.apk'
            if name_temp not in exist_file_list:
                wget.download(url,directoryAPKs)
            else:
                print("exist")


if __name__ == '__main__':   
    start_time = time.time()
    pool = mp.Pool(num_core)



    pool.map_async()

    pool.close()
    pool.join()
    print("Process finished --- %s seconds ---" % (time.time() - start_time))