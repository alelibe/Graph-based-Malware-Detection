import multiprocessing as mp
import os
import time
from Utils.utils_loadDex import LoadDexRecursive
from Utils.Data import num_core


if __name__ == '__main__':   
    start_time = time.time()
    base_folder = "C:/Users/Alessia/Desktop/Unimi/Tesi/Dataset/DexFiles"
    pool = mp.Pool(num_core)
    

    pathDexList = [base_folder+str(core) for core in range(num_core)]


    pool.map_async(LoadDexRecursive, pathDexList)

    pool.close()
    pool.join()
    print("Process finished --- %s seconds ---" % (time.time() - start_time))